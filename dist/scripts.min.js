"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function loadInclude(t,r){var n,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(fetch("/blocks/".concat(r,"/").concat(r,".html")));case 2:return n=e.sent,e.next=5,regeneratorRuntime.awrap(n.text());case 5:o=e.sent,t.innerHTML=o;case 7:case"end":return e.stop()}})}function hydrate(){}function createTag(e,t){var r=document.createElement(e);if("object"===_typeof(t))for(var n=0,o=Object.entries(t);n<o.length;n++){var a=_slicedToArray(o[n],2),c=a[0],i=a[1];r.setAttribute(c,i)}return r}function wrapSections(e){document.querySelectorAll(e).forEach(function(e){if(0!==e.childNodes.length&&e.firstElementChild){if(!e.id){var t=createTag("div",{class:"section-wrapper"});e.parentNode.appendChild(t),t.appendChild(e)}}else e.remove()})}function decorateFullWidthImage(){document.querySelectorAll("img").forEach(function(e){var t=e.closest("div");(1===t.children.length||2===t.children.length&&t.children[1].tagName.startsWith("H"))&&(t.parentNode.classList.add("full-image"),t.parentNode.classList.remove("section-wrapper"))})}function loadCSS(e){if(!document.querySelector('head > link[href="'.concat(e,'"]'))){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t.onload=function(){},t.onerror=function(){},document.head.appendChild(t)}}function loadBlocks(){document.querySelectorAll("main div.section-wrapper > div > .block").forEach(function(t){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getAttribute("data-block-name"),Promise.resolve().then(function(){return _interopRequireWildcard(require("/blocks/".concat(r,"/").concat(r,".js")))}).then(function(e){e.default&&e.default(t,r,document)}).catch(function(e){return console.log("failed to load module for ".concat(r),e)}),loadCSS("/blocks/".concat(r,"/").concat(r,".css"));case 3:case"end":return e.stop()}})})}function decorateBlocks(){document.querySelectorAll("main div.section-wrapper > div > div").forEach(function(n){var o=Array.from(n.classList.values())[0],e=n.closest(".section-wrapper");e&&e.classList.add("".concat(o,"-container").replace(/--/g,"-"));[].forEach(function(e){if(o.startsWith("".concat(e,"-"))){var t,r=o.substring(e.length+1).split("-").filter(function(e){return!!e});o=e,n.classList.add(e),(t=n.classList).add.apply(t,_toConsumableArray(r))}}),n.classList.add("block"),n.setAttribute("data-block-name",o)})}function loadHeader(){}function decoratePage(){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:wrapSections("main > div"),loadHeader(),decorateFullWidthImage(),decorateBlocks(),(t=document.querySelector("main img"))?t.complete?loadLater():(t.addEventListener("load",function(){loadLater()}),t.addEventListener("error",function(){loadLater()})):loadLater(),document.querySelector("main").classList.add("appear");case 7:case"end":return e.stop()}})}function loadLater(){document.body.classList.add("appear"),loadBlocks(),loadCSS("/lazy-style.css")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadInclude=loadInclude,exports.hydrate=hydrate,exports.createTag=createTag,exports.loadCSS=loadCSS,decoratePage();
//# sourceMappingURL=scripts.min.js.map
